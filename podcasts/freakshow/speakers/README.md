# Speakers

This folder is generated by `node generate-speaker-profiles.js` (or `yarn speaker-profiles`).

## What it does

- Scans `episodes/**/*-ts.json` transcripts
- Aggregates all text by `speaker`
- Uses the configured LLM (`settings.json -> llm`) to produce **speaker voice profiles** as Markdown

Generated files:

- `speakers/<speaker-slug>.md`: voice profile (for LLM imitation)
- `speakers/index.json`: simple index of speakers + stats
- `speakers/.cache/*.json`: caching of per-chunk analysis and final profile (safe to delete, but re-generation will be slower/cost more)

## Run

```bash
yarn speaker-profiles
```

Common options:

```bash
node generate-speaker-profiles.js --speaker "Tim Pritlove"
node generate-speaker-profiles.js --speaker-regex "tim|letty" --limit-speakers 5
node generate-speaker-profiles.js --speaker "Tim Pritlove" --max-chunks 12
node generate-speaker-profiles.js --no-llm
node generate-speaker-profiles.js --force
```

Fictional chatbot persona (distinct character, inspired by style features):

```bash
node generate-speaker-profiles.js --persona-mode fictional --speaker "Tim Pritlove" --character-name "Timo Prism" --max-chunks 12
```

## Configuration

The script reads `settings.json` (see `settings.example.json`) and expects an **OpenAI-compatible** Chat Completions endpoint at:

- `settings.llm.baseURL + "/chat/completions"`


